<div class="dashboard-container">
    <header class="dashboard-header">
        <h1>Welcome Back, {{userName}}!</h1>
        <p>Track Your Performance</p>
    </header>
    <section class="summary-cards-grid"> 
        <app-student-widget *ngFor="let card of summaryCards" [cardData]="card"></app-student-widget>
    </section>
    
    <section class="analytics-grid">
        <div class="chart-panel overview-chart">
            <h2>Course vs Average Quiz Score</h2> 

            <div *ngIf="isLoading" class="loading-state chart-wrapper">
                <mat-spinner diameter="30"></mat-spinner>
                <p>Loading quiz scores...</p>
            </div>
            
            <div *ngIf="!isLoading && chartOptions" class="chart-wrapper">
                <apx-chart
                    [series]="chartOptions.series!"
                    [chart]="chartOptions.chart!"
                    [xaxis]="chartOptions.xaxis!"
                    [yaxis]="chartOptions.yaxis!"
                    
                    [colors]="chartOptions.colors!"
                    [fill]="chartOptions.fill!"
                    [dataLabels]="chartOptions.dataLabels!"
                    [tooltip]="chartOptions.tooltip!"
                ></apx-chart>
            </div>

            <div *ngIf="!isLoading && !chartOptions" class="empty-state chart-wrapper">
                <mat-icon color="warn">bar_chart_off</mat-icon>
                <p>No quiz score data available for comparison.</p>
            </div>
        </div>

        <app-top-instructors 
            [instructors]="topInstructors" 
            [isLoading]="isLoading">
        </app-top-instructors>
    </section>

    </div>